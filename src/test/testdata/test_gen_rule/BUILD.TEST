cc_library(
    name='lowercase',
    srcs=['plowercase.cpp'],
    hdrs=['plowercase.h'],
    deps=['#pthread'],
    warning='yes',
    defs=['LOWER_DEF'],
    incs=['include'],
    optimize=['O3'],
    always_optimize=True,
    link_all_symbols=1
)

gen_rule(
    name='process_media',
    outs='process.tmp',
    cmd='echo this_is_the_process_gen_rule > $FIRST_OUT',
    deps=[':lowercase']
)


cc_library(
    name='uppercase',
    srcs=['puppercase.cpp'],
    hdrs=['puppercase.h'],
    deps=['#dl',
          ':process_media'
    ]
)
